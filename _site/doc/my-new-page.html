<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>jekyll-docs-template : My New Page</title>
        <meta name="description" content="Painless documentation for your projects">

        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/css/syntax.css">
        <link rel="stylesheet" href="/css/main.css">
    </head>
    <body>

        <div class="container">
            <div class="row">
                <div id="header" class="col-sm-12">
                    <h4><a class="brand" href="/">jekyll-docs-template</a>
    <small>Painless documentation for your projects</small>
</h4>

                </div>
            </div>

            <div class="row">
                
                
                    <div id="navigation" class="col-sm-2">
                        <ul class="nav nav-list">
    <li><a href="/">Home</a></li>
    
        
        

        
            
                <li class="nav-header">Documentation</li>
            
            <li data-order=""><a href="/doc/my-new-page.html">My New Page</a></li>
        
    
        
        

        
    
        
        

        
    
        
        

        
    
        
        

        
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class="divider"></li> first to break up the content. -->
</ul>

                    </div>

                    <div id="content" class="col-sm-10">
                        <div class="page-header">
    <h2>My New Page
        
    </h2>
</div>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">tree</span> <span class="kn">import</span> <span class="n">TreeModel</span>

<span class="k">class</span> <span class="nc">BusinessAsUsual</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ghg</span><span class="o">=</span><span class="mf">1000.0</span><span class="p">,</span> <span class="n">emit_time</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="n">emit_level</span><span class="o">=</span><span class="p">[</span><span class="mf">52.0</span><span class="p">,</span> <span class="mf">70.0</span><span class="p">,</span> <span class="mf">81.4</span><span class="p">]):</span>
        <span class="s">"""
        emissions growth is assumed to slow down exogenously -- these assumptions
        represent an attempt to model emissions growth in a business-as-usual scenario
        that is in the absence of incentives
        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ghg</span> <span class="o">=</span> <span class="n">ghg</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit_time</span> <span class="o">=</span> <span class="n">emit_time</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit_level</span> <span class="o">=</span> <span class="n">emit_level</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emission_by_decisions</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emission_per_period</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emissions_to_ghg</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">emission_by_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">):</span>
        <span class="s">"""
        return the bau emissions at any time t
        """</span>
        <span class="k">if</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">emit_time</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">emissions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">emit_level</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">time</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">emit_time</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">emit_time</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> \
                        <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">emit_level</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">emit_level</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">emit_time</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
            <span class="n">emissions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">emit_level</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">time</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">emit_time</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">emit_time</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> 
                        <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">emit_time</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">emit_level</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">emit_level</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">emissions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">emit_level</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">emissions</span>

    <span class="k">def</span> <span class="nf">bau_emissions_setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">):</span>
        <span class="s">"""
        create default business as usual emissions path
        the emissions rate in each period are assumed to be the average of the emissions at the beginning
        and at the end of the period
        """</span>
        <span class="n">num_periods</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">num_periods</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emission_by_decisions</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_periods</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emissions_per_period</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_periods</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emissions_to_ghg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_periods</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emission_by_decisions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">emission_by_time</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">decision_times</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">period_len</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">decision_times</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">-</span> <span class="n">tree</span><span class="o">.</span><span class="n">decision_times</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_periods</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">emission_by_decisions</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">emission_by_time</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">decision_times</span><span class="p">[</span><span class="n">n</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">emissions_per_period</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">period_len</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">emission_by_decisions</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>

        <span class="c">#the total increase in ghg level of 600 (from 400 to 1000) in the bau path is allocated over time</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emissions_to_ghg</span> <span class="o">=</span> <span class="mi">600</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">emissions_per_period</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">emissions_per_period</span><span class="o">.</span><span class="nb">sum</span><span class="p">()</span>
</code></pre>
</div>


                    </div>
                
            </div>

            

            <div class="row">
                <div id="footer" class="col-sm-12">
                    Documentation for <a href="https://github.com/bruth/jekyll-docs-template">jekyll-docs-template</a>

                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                }

                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>
        
    </body>
</html>
